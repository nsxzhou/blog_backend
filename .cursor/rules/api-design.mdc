---
description: 
globs: 
alwaysApply: true
---
# API 设计规范

## RESTful API 原则

1. **URL 命名**: 使用名词而非动词，表示资源
   ```
   # 正确
   GET /api/posts       - 获取所有文章
   GET /api/posts/123   - 获取特定文章
   POST /api/posts      - 创建新文章
   
   # 错误
   GET /api/getPosts
   GET /api/getPost/123
   POST /api/createPost
   ```

2. **HTTP 方法**:
   - `GET`: 读取资源
   - `POST`: 创建资源
   - `PUT`: 完全更新资源
   - `PATCH`: 部分更新资源
   - `DELETE`: 删除资源

3. **状态码使用**:
   - `200 OK`: 请求成功
   - `201 Created`: 资源创建成功
   - `400 Bad Request`: 请求参数错误
   - `401 Unauthorized`: 未授权
   - `403 Forbidden`: 禁止访问
   - `404 Not Found`: 资源不存在
   - `500 Internal Server Error`: 服务器错误

## 响应格式

统一的响应格式:
```json
{
  "code": 200,          // 状态码
  "message": "success", // 状态消息
  "data": {}            // 响应数据
}
```

## 版本控制

在 URL 中包含版本号:
```
/api/v1/posts
/api/v2/posts
```

## 安全性

1. 所有 API 都应经过认证和授权
2. 使用 HTTPS
3. 实施速率限制防止滥用
4. 验证所有用户输入
